<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ebook Details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Prevent layout shift from scrollbar */
        html {
            overflow-y: scroll;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4a6cf7;
            --secondary: #6c757d;
            --success: #198754;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #0dcaf0;
            --light: #f8f9fa;
            --dark: #212529;
            --content-bg: #f5f7f9;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        body {
            background-color: var(--content-bg);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            transition: background-color 0.3s, color 0.3s;
        }

            body.dark-mode {
                --content-bg: #121826;
                --card-bg: #1a243a;
                --text-color: #e0e0e0;
                --border-color: #2a2a2a;
                --shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            }

        /* Main Content Styles */
        .main-content {
            padding: 20px;
            min-height: 100vh;
            position: relative;
            width: 93%;
            max-width: none;
            /* margin-left: 115px; */
        }

        .top-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .header-left h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
        }

        .header-right {
            display: flex;
            gap: 15px;
        }

        /* Dropdown Styles */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 6px rgba(76, 175, 80, 0.2);
        }

            .dropdown-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 12px rgba(76, 175, 80, 0.3);
            }

            .dropdown-btn:active {
                transform: translateY(0);
                box-shadow: 0 2px 4px rgba(76, 175, 80, 0.2);
            }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: var(--card-bg);
            min-width: 200px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 6px;
            overflow: hidden;
            margin-top: 5px;
            border: 1px solid var(--border-color);
        }

            .dropdown-content a {
                color: var(--text-color);
                padding: 12px 16px;
                text-decoration: none;
                display: block;
                transition: background-color 0.3s;
            }

                .dropdown-content a:hover {
                    background-color: var(--content-bg);
                }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        /* Button Styles */
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 6px rgba(76, 175, 80, 0.2);
        }

            .btn-primary:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 12px rgba(76, 175, 80, 0.3);
            }

            .btn-primary:active {
                transform: translateY(0);
                box-shadow: 0 2px 4px rgba(76, 175, 80, 0.2);
            }

        .btn-secondary {
            background: var(--secondary);
            color: white;
            box-shadow: 0 4px 6px rgba(52, 152, 219, 0.2);
        }

            .btn-secondary:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 12px rgba(52, 152, 219, 0.3);
            }

            .btn-secondary:active {
                transform: translateY(0);
                box-shadow: 0 2px 4px rgba(52, 152, 219, 0.2);
            }

        .theme-toggle {
            background: var(--dark);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
        }

        /* Fixed Screen Styles - No more layout shifting */
        .screen {
            display: none;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
            position: relative;
            width: 100%;
            padding: 0;
            background: var(--content-bg);
        }

            .screen.active {
                display: block;
                opacity: 1;
            }

        /* Navigation Tabs */
        .navigation-tabs {
            display: flex;
            background: var(--card-bg);
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            overflow-x: auto;
        }

        .nav-tab {
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

            .nav-tab.active {
                background: var(--primary);
                color: white;
            }

            .nav-tab:hover:not(.active) {
                background: var(--content-bg);
            }

        /* Upload Screen Styles */
        .upload-section {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 40px;
            box-shadow: var(--shadow);
            text-align: center;
            margin-bottom: 30px;
        }

        .upload-area {
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            padding: 40px;
            margin: 20px 0;
            transition: all 0.3s;
            cursor: pointer;
        }

            .upload-area:hover {
                border-color: var(--primary);
                background-color: var(--content-bg);
            }

        .upload-icon {
            font-size: 3rem;
            color: var(--secondary);
            margin-bottom: 15px;
        }

        .upload-text {
            margin-bottom: 20px;
        }

            .upload-text h3 {
                font-size: 1.5rem;
                margin-bottom: 10px;
                color: var(--text-color);
            }

            .upload-text p {
                color: var(--secondary);
            }

        .file-input {
            display: none;
        }

        .upload-btn {
            margin-top: 20px;
        }

        .features-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .feature-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .feature-card h3 {
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .feature-card p {
            color: var(--secondary);
            font-size: 0.9rem;
        }

        /* Title Page Styles */
        .title-page-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .book-editor, .book-preview {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--shadow);
        }

        .editor-section {
            margin-bottom: 20px;
        }

            .editor-section h3 {
                margin-bottom: 15px;
                color: var(--text-color);
                border-bottom: 1px solid var(--border-color);
                padding-bottom: 10px;
            }

        .form-group {
            margin-bottom: 15px;
        }

            .form-group label {
                display: block;
                margin-bottom: 5px;
                font-weight: 500;
                color: var(--text-color);
            }

            .form-group input, .form-group textarea, .form-group select {
                width: 100%;
                padding: 10px;
                border: 1px solid var(--border-color);
                border-radius: 6px;
                font-size: 1rem;
                background-color: var(--card-bg);
                color: var(--text-color);
                transition: border-color 0.3s;
            }

                .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
                    outline: none;
                    border-color: var(--primary);
                    box-shadow: 0 0 0 2px rgba(74, 108, 247, 0.2);
                }

            .form-group textarea {
                min-height: 100px;
                resize: vertical;
            }

        .preview-section {
            text-align: center;
        }

        .book-cover {
            margin-bottom: 30px;
        }

        .book-cover-placeholder {
            width: 200px;
            height: 300px;
            background: var(--content-bg);
            margin: 0 auto 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            border: 2px dashed var(--border-color);
        }

            .book-cover-placeholder i {
                font-size: 3rem;
                color: var(--secondary);
            }

        .book-title-preview {
            margin-bottom: 20px;
        }

            .book-title-preview h2 {
                font-size: 2rem;
                color: var(--text-color);
                margin-bottom: 10px;
            }

            .book-title-preview p {
                font-size: 1.2rem;
                color: var(--secondary);
                font-style: italic;
            }

        .book-author-preview {
            margin-bottom: 30px;
        }

            .book-author-preview h3 {
                font-size: 1.5rem;
                color: var(--text-color);
            }

        .publisher-info {
            margin-bottom: 20px;
        }

        .premium-section {
            background: linear-gradient(135deg, #1e2a4a 0%, #4a6cf7 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-top: 30px;
        }

            .premium-section h4 {
                margin-bottom: 15px;
                font-size: 1.2rem;
            }

        .premium-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        /* Chapters Styles */
        .chapters-container {
            display: grid;
            grid-template-columns: 50% 50%;
            gap: 30px;
        }

        .chapters-list, .chapter-editor {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--shadow);
        }

        .chapters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

            .chapters-header h3 {
                color: var(--text-color);
            }

        .chapters-search {
            display: flex;
            margin-bottom: 20px;
            width: 100%;
        }

            .chapters-search input {
                flex-grow: 1;
                padding: 10px;
                border: 1px solid var(--border-color);
                border-radius: 6px 0 0 6px;
                border-right: none;
                background-color: var(--card-bg);
                color: var(--text-color);
            }

            .chapters-search button {
                border-radius: 0 6px 6px 0;
            }

        .chapters-items {
            max-height: 500px;
            overflow-y: auto;
        }

        .chapter-item {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background-color 0.3s;
        }

            .chapter-item:hover {
                background-color: var(--content-bg);
            }

            .chapter-item.active {
                background-color: var(--content-bg);
                border-left: 4px solid var(--primary);
            }

        .chapter-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text-color);
        }

        .chapter-preview {
            font-size: 0.9rem;
            color: var(--secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .editor-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .word-count {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--content-bg);
            border-radius: 8px;
            text-align: center;
        }

            .word-count h4 {
                margin-bottom: 10px;
                color: var(--text-color);
            }

        .count-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(150%);
            transition: transform 0.3s;
            z-index: 1000;
            color: var(--text-color);
        }

            .toast.show {
                transform: translateX(0);
            }

            .toast.success {
                border-left: 4px solid var(--success);
            }

            .toast.error {
                border-left: 4px solid var(--danger);
            }

        .toast-icon {
            font-size: 24px;
        }

        .toast.success .toast-icon {
            color: var(--success);
        }

        .toast.error .toast-icon {
            color: var(--danger);
        }

        /* Loading Spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @@keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Responsive Styles */
        @@media (max-width: 1200px) {
            .title-page-container, .chapters-container {
                grid-template-columns: 1fr;
            }
        }

        @@media (max-width: 992px) {
            .top-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }

            .header-right {
                width: 100%;
                justify-content: space-between;
                flex-wrap: wrap;
            }
        }

        @@media (max-width: 768px) {
            .top-header {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }

            .header-right {
                flex-wrap: wrap;
                justify-content: center;
            }

            .features-section {
                grid-template-columns: 1fr;
            }

            .premium-buttons, .editor-actions {
                flex-direction: column;
            }

            .upload-section {
                padding: 20px;
            }

            .upload-area {
                padding: 20px;
            }

            .book-editor, .book-preview, .chapters-list, .chapter-editor {
                padding: 20px;
            }

            .upload-icon, .book-cover-placeholder i {
                font-size: 2rem;
            }

            .header-left h1 {
                font-size: 1.5rem;
            }

            .header-left p {
                font-size: 1rem;
            }

            .chapters-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .chapter-editor .form-group textarea {
                min-height: 200px;
            }

            .editor-actions {
                flex-direction: column;
            }

                .editor-actions button {
                    width: 100%;
                }

            .navigation-tabs {
                flex-wrap: wrap;
            }

            .dropdown-content {
                position: static;
                width: 100%;
                margin-top: 10px;
            }
        }

        @@media (max-width: 576px) {
            .book-editor, .book-preview, .chapters-list, .chapter-editor {
                padding: 15px;
            }

            .upload-section {
                padding: 15px;
            }

            .header-right {
                flex-direction: column;
                width: 100%;
                gap: 10px;
            }

            .theme-toggle {
                background-color: var(--dark);
                border-radius: 8px;
                width: 100%;
            }

            .header-right button, .header-right .dropdown {
                width: 100%;
                justify-content: center;
            }

            .title-page-container, .chapters-container {
                gap: 15px;
            }

            .chapters-items {
                max-height: 500px;
                width: 100%;
                overflow-y: auto;
            }

            button#themeToggle {
                border-radius: 50%;
                width: 54px;
            }

            .upload-area {
                padding: 15px;
            }

            .upload-text h3 {
                font-size: 1.2rem;
            }

            .upload-text p {
                font-size: 0.9rem;
            }

            .book-cover-placeholder {
                width: 150px;
                height: 225px;
            }

            .book-title-preview h2 {
                font-size: 1.5rem;
            }

            .book-author-preview h3 {
                font-size: 1.2rem;
            }

            .form-group input, .form-group textarea, .form-group select {
                padding: 8px;
                font-size: 0.9rem;
            }

            .chapter-title {
                font-size: 0.95rem;
            }

            .chapter-preview {
                font-size: 0.8rem;
            }

            .count-value {
                font-size: 1.5rem;
            }

            .chapters-header {
                flex-direction: column;
                align-items: flex-start;
            }

                .chapters-header button {
                    width: 100%;
                }

            .chapters-search {
                flex-direction: column;
            }

                .chapters-search input {
                    border-radius: 6px;
                    border-right: 1px solid var(--border-color);
                    margin-bottom: 10px;
                }

                .chapters-search button {
                    border-radius: 6px;
                }

            .navigation-tabs {
                flex-direction: column;
            }

            .dropdown {
                width: 100%;
            }

            .dropdown-btn {
                width: 100%;
                justify-content: center;
            }
        }

        @@media (max-width: 400px) {
            .header-right button {
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .theme-toggle {
                width: 100%;
            }

            .premium-buttons button {
                width: 100%;
            }

            .editor-actions button {
                width: 100%;
            }

            .book-cover-placeholder {
                width: 120px;
                height: 180px;
            }

            .feature-card {
                padding: 15px;
            }

            .feature-icon {
                font-size: 2rem;
            }
        }

        .header-left p {
            font-size: 1.2rem;
            color: var(--secondary);
        }
        
        /* Dropdown sections in ebook details */
        .dropdown-section {
            margin: 20px 0;
            padding: 15px;
            background: var(--content-bg);
            border-radius: 8px;
        }
        
        .dropdown-section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="main-content">
        <header class="top-header">
            <div class="header-left">
                <h1 id="screen-title">Ebook Details</h1>
                <p>Manage all aspects of your ebook in one place</p>
            </div>
            <div class="header-right">
                <button class="btn-primary" id="previewBtn"><i class="fas fa-eye"></i> Preview</button>
                <button class="btn-secondary" id="helpBtn"><i class="fas fa-question-circle"></i> Help</button>
                <button class="theme-toggle" id="themeToggle">ðŸŒ™</button>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <div class="navigation-tabs">
            <div class="nav-tab active" data-screen="upload-screen">
                <i class="fas fa-upload"></i> Upload Manuscript
            </div>
            <div class="nav-tab" data-screen="title-page-screen">
                <i class="fas fa-font"></i> Ebook Details
            </div>
            <div class="nav-tab" data-screen="chapters-screen">
                <i class="fas fa-list"></i> Chapters
            </div>
        </div>

        <!-- E-Book Screens -->
        <div id="upload-screen" class="screen active">
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">
                        <h3>Upload Your Manuscript</h3>
                        <p>Drag & drop your file here or click to browse</p>
                        <p class="small">Supported formats: DOC, DOCX, PDF, TXT, EPUB</p>
                    </div>
                    <input type="file" id="fileInput" class="file-input" accept=".doc,.docx,.pdf,.txt,.epub">
                    <button class="btn-primary upload-btn" id="uploadBtn"><i class="fas fa-upload"></i> Upload File</button>
                </div>
            </div>
            <div class="features-section">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-pencil-alt"></i>
                    </div>
                    <h3>Edit & Format</h3>
                    <p>Professional editing and formatting tools to make your book look perfect</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Proofread</h3>
                    <p>AI-powered proofreading to catch errors and improve your writing</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <h3>Design Cover</h3>
                    <p>Create stunning book covers with our easy-to-use design tools</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-globe"></i>
                    </div>
                    <h3>Publish Worldwide</h3>
                    <p>Distribute your book to all major platforms with a single click</p>
                </div>
            </div>
        </div>

        <div id="title-page-screen" class="screen">
            <div class="title-page-container">
                <div class="book-editor">
                    <div class="editor-section">
                        <h3>Ebook Details</h3>
                        <div class="form-group">
                            <label for="bookTitle">Ebook Title</label>
                            <input type="text" id="bookTitle" placeholder="Enter ebook title" value="Digital Marketing Mastery">
                        </div>
                        <div class="form-group">
                            <label for="bookSubtitle">Subtitle</label>
                            <input type="text" id="bookSubtitle" placeholder="Enter subtitle" value="Strategies for the Modern Business">
                        </div>
                        <div class="form-group">
                            <label for="bookAuthor">Author Name</label>
                            <input type="text" id="bookAuthor" placeholder="Enter author name" value="Alex Johnson">
                        </div>
                        <div class="form-group">
                            <label for="bookCategory">Category</label>
                            <select id="bookCategory">
                                <option value="business">Business</option>
                                <option value="fiction">Fiction</option>
                                <option value="non-fiction">Non-Fiction</option>
                                <option value="technology">Technology</option>
                                <option value="self-help">Self-Help</option>
                                <option value="education">Education</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Book Options Dropdown Section -->
                    <div class="dropdown-section">
                        <div class="dropdown-section-header">
                            <h3>Book Options</h3>
                            <div class="dropdown">
                                <button class="dropdown-btn"><i class="fas fa-book"></i> Book Actions <i class="fas fa-chevron-down"></i></button>
                                <div class="dropdown-content">
                                    <a href="#" id="exportBookBtn"><i class="fas fa-file-export"></i> Export Book</a>
                                    <a href="#" id="publishBookBtn"><i class="fas fa-globe"></i> Publish Book</a>
                                    <a href="#" id="duplicateBookBtn"><i class="fas fa-copy"></i> Duplicate Book</a>
                                    <a href="#" id="bookSettingsBtn"><i class="fas fa-cog"></i> Book Settings</a>
                                </div>
                            </div>
                        </div>
                        <p>Use these options to manage your ebook publishing and distribution.</p>
                    </div>
                    
                    <div class="editor-section">
                        <h3>Publication Details</h3>
                        <div class="form-group">
                            <label for="publisherName">Publisher Name</label>
                            <input type="text" id="publisherName" placeholder="Enter publisher name" value="Modern Publishing">
                        </div>
                        <div class="form-group">
                            <label for="publicationDate">Publication Date</label>
                            <input type="date" id="publicationDate" value="2023-10-15">
                        </div>
                        <div class="form-group">
                            <label for="isbn">ISBN</label>
                            <input type="text" id="isbn" placeholder="Enter ISBN" value="978-1-234567-89-0">
                        </div>
                    </div>
                    <div class="editor-section">
                        <h3>Ebook Description</h3>
                        <div class="form-group">
                            <label for="bookDescription">Description</label>
                            <textarea id="bookDescription" placeholder="Enter ebook description">A comprehensive guide to digital marketing strategies that help businesses thrive in the modern digital landscape. Learn about SEO, social media marketing, content creation, and more.</textarea>
                        </div>
                    </div>
                    <button class="btn-primary" id="nextStepBtn"><i class="fas fa-arrow-right"></i> Next: Chapters</button>
                </div>
                <div class="book-preview">
                    <div class="preview-section">
                        <div class="book-cover">
                            <div class="book-cover-placeholder">
                                <i class="fas fa-book"></i>
                            </div>
                            <button class="btn-secondary" id="uploadCoverBtn"><i class="fas fa-upload"></i> Upload Cover Image</button>
                        </div>
                        <div class="book-title-preview">
                            <h2 id="previewTitle">Digital Marketing Mastery</h2>
                            <p id="previewSubtitle">Strategies for the Modern Business</p>
                        </div>
                        <div class="book-author-preview">
                            <h3 id="previewAuthor">Alex Johnson</h3>
                        </div>
                        <div class="publisher-info">
                            <p id="previewPublisher">Modern Publishing</p>
                            <p id="previewDate">October 15, 2023</p>
                        </div>
                    </div>
                    <div class="premium-section">
                        <h4>Buy Premium To Unlock All Features To Make Your Book A Best Seller!</h4>
                        <div class="premium-buttons">
                            <button class="btn-secondary" id="viewPlansBtn">View Plans</button>
                            <button class="btn-primary" id="unlockNowBtn">Unlock Now</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="chapters-screen" class="screen">
            <div class="chapters-container">
                <div class="chapters-list">
                    <div class="chapters-header">
                        <h3>Table of Contents</h3>
                        <button class="btn-primary" id="addChapterBtn"><i class="fas fa-plus"></i> Add Chapter</button>
                    </div>
                    
                    <!-- Chapter Options Dropdown Section -->
                    <div class="dropdown-section">
                        <div class="dropdown-section-header">
                            <h4>Chapter Management</h4>
                            <div class="dropdown">
                                <button class="dropdown-btn"><i class="fas fa-list"></i> Chapter Actions <i class="fas fa-chevron-down"></i></button>
                                <div class="dropdown-content">
                                    <a href="#" id="reorderChaptersBtn"><i class="fas fa-sort"></i> Reorder Chapters</a>
                                    <a href="#" id="importChapterBtn"><i class="fas fa-file-import"></i> Import Chapter</a>
                                    <a href="#" id="exportChapterBtn"><i class="fas fa-file-export"></i> Export Chapter</a>
                                    <a href="#" id="chapterTemplatesBtn"><i class="fas fa-layer-group"></i> Chapter Templates</a>
                                </div>
                            </div>
                        </div>
                        <p>Use these options to manage your chapters and content.</p>
                    </div>
                    
                    <div class="chapters-search">
                        <input type="text" placeholder="Search chapters..." id="searchChapters">
                        <button class="btn-secondary" id="searchBtn"><i class="fas fa-search"></i></button>
                    </div>
                    <div class="chapters-items">
                        <div class="chapter-item active" data-chapter="1">
                            <div class="chapter-title">1. Introduction to Digital Marketing</div>
                            <div class="chapter-preview">Understanding the fundamentals of digital marketing and its importance in today's business landscape.</div>
                        </div>
                        <div class="chapter-item" data-chapter="2">
                            <div class="chapter-title">2. Search Engine Optimization</div>
                            <div class="chapter-preview">Learn how to optimize your website to rank higher in search engine results and drive organic traffic.</div>
                        </div>
                        <div class="chapter-item" data-chapter="3">
                            <div class="chapter-title">3. Social Media Marketing</div>
                            <div class="chapter-preview">Strategies for leveraging social media platforms to build brand awareness and engage with your audience.</div>
                        </div>
                        <div class="chapter-item" data-chapter="4">
                            <div class="chapter-title">4. Content Creation & Marketing</div>
                            <div class="chapter-preview">Creating valuable content that attracts and retains customers while driving profitable actions.</div>
                        </div>
                        <div class="chapter-item" data-chapter="5">
                            <div class="chapter-title">5. Email Marketing Strategies</div>
                            <div class="chapter-preview">Building effective email campaigns that convert subscribers into loyal customers.</div>
                        </div>
                    </div>
                </div>
                <div class="chapter-editor">
                    <div class="editor-section">
                        <h3>Edit Chapter</h3>
                        <div class="form-group">
                            <label for="chapterTitle">Chapter Title</label>
                            <input type="text" id="chapterTitle" value="1. Introduction to Digital Marketing">
                        </div>
                        <div class="form-group">
                            <label for="chapterContent">Chapter Content</label>
                            <textarea id="chapterContent">Digital marketing encompasses all marketing efforts that use an electronic device or the internet. Businesses leverage digital channels such as search engines, social media, email, and other websites to connect with current and prospective customers.

In today's digital age, having a strong online presence is crucial for business success. This chapter will explore the fundamental concepts of digital marketing and why it's essential for modern businesses.

We'll cover:
- The evolution of marketing from traditional to digital
- Key components of a digital marketing strategy
- How digital marketing differs from traditional marketing
- The importance of data and analytics in digital campaigns</textarea>
                        </div>
                        <div class="editor-actions">
                            <button class="btn-primary" id="saveChapterBtn"><i class="fas fa-save"></i> Save Chapter</button>
                            <button class="btn-secondary" id="deleteChapterBtn"><i class="fas fa-trash"></i> Delete Chapter</button>
                        </div>
                    </div>
                    <div class="word-count">
                        <h4>Word Count</h4>
                        <div class="count-value">24,567</div>
                        <p>Total words in your ebook</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <span class="toast-icon">âœ“</span>
        <span class="toast-message">Operation completed successfully!</span>
    </div>

    <script>
        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const helpBtn = document.getElementById('helpBtn');
        const previewBtn = document.getElementById('previewBtn');
        const nextStepBtn = document.getElementById('nextStepBtn');
        const viewPlansBtn = document.getElementById('viewPlansBtn');
        const unlockNowBtn = document.getElementById('unlockNowBtn');
        const addChapterBtn = document.getElementById('addChapterBtn');
        const saveChapterBtn = document.getElementById('saveChapterBtn');
        const deleteChapterBtn = document.getElementById('deleteChapterBtn');
        const searchBtn = document.getElementById('searchBtn');
        const uploadCoverBtn = document.getElementById('uploadCoverBtn');
        const toast = document.getElementById('toast');
        const screenTitle = document.getElementById('screen-title');
        const navTabs = document.querySelectorAll('.nav-tab');
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const uploadBtn = document.getElementById('uploadBtn');

        // Dropdown buttons
        const exportBookBtn = document.getElementById('exportBookBtn');
        const publishBookBtn = document.getElementById('publishBookBtn');
        const duplicateBookBtn = document.getElementById('duplicateBookBtn');
        const bookSettingsBtn = document.getElementById('bookSettingsBtn');
        const reorderChaptersBtn = document.getElementById('reorderChaptersBtn');
        const importChapterBtn = document.getElementById('importChapterBtn');
        const exportChapterBtn = document.getElementById('exportChapterBtn');
        const chapterTemplatesBtn = document.getElementById('chapterTemplatesBtn');

        // Screens
        const screens = document.querySelectorAll('.screen');

        // Form Inputs
        const bookTitle = document.getElementById('bookTitle');
        const bookSubtitle = document.getElementById('bookSubtitle');
        const bookAuthor = document.getElementById('bookAuthor');
        const bookCategory = document.getElementById('bookCategory');
        const publisherName = document.getElementById('publisherName');
        const publicationDate = document.getElementById('publicationDate');
        const isbn = document.getElementById('isbn');
        const bookDescription = document.getElementById('bookDescription');

        // Preview Elements
        const previewTitle = document.getElementById('previewTitle');
        const previewSubtitle = document.getElementById('previewSubtitle');
        const previewAuthor = document.getElementById('previewAuthor');
        const previewPublisher = document.getElementById('previewPublisher');
        const previewDate = document.getElementById('previewDate');

        // Chapter Elements
        const chapterItems = document.querySelectorAll('.chapter-item');
        const chapterTitleInput = document.getElementById('chapterTitle');
        const chapterContentInput = document.getElementById('chapterContent');

        // Screen titles
        const screenTitles = {
            'upload-screen': 'Upload Manuscript',
            'title-page-screen': 'Ebook Details',
            'chapters-screen': 'Chapters Editor'
        };

        // Dark Mode State
        let isDarkMode = localStorage.getItem('darkMode') === 'true';

        // Apply saved theme on load
        if (isDarkMode) {
            document.body.classList.add('dark-mode');
            themeToggle.textContent = 'â˜€ï¸';
        }

        // Theme Toggle
        themeToggle.addEventListener('click', () => {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode');
            themeToggle.textContent = isDarkMode ? 'â˜€ï¸' : 'ðŸŒ™';

            // Save preference to localStorage
            localStorage.setItem('darkMode', isDarkMode);
        });

        // Navigation tabs
        navTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const screenId = this.getAttribute('data-screen');

                // Update active tab
                navTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');

                // Show the selected screen
                showScreen(screenId);
            });
        });

        function showScreen(screenId) {
            // Hide all screens
            screens.forEach(screen => {
                screen.classList.remove('active');
            });

            // Show the selected screen
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active');
            }

            // Update screen title
            screenTitle.textContent = screenTitles[screenId] || 'Ebook Details';
        }

        // File Upload
        uploadArea.addEventListener('click', () => fileInput.click());
        uploadBtn.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                const fileName = e.target.files[0].name;
                showToast(`"${fileName}" uploaded successfully!`, 'success');
                const uploadText = uploadArea.querySelector('.upload-text');
                uploadText.innerHTML = `<h3>Upload Successful!</h3><p>${fileName} is ready for processing</p>`;

                // Update upload button to process file
                uploadBtn.innerHTML = '<i class="fas fa-cog"></i> Process File';
                uploadBtn.onclick = () => {
                    // Show loading state
                    uploadBtn.innerHTML = '<span class="spinner"></span> Processing...';
                    uploadBtn.disabled = true;

                    showToast('Processing your manuscript...', 'success');
                    setTimeout(() => {
                        uploadBtn.innerHTML = '<i class="fas fa-check"></i> Processed';
                        showToast('Manuscript processed successfully!', 'success');

                        // Switch to title page screen after a brief delay
                        setTimeout(() => {
                            navTabs.forEach(t => t.classList.remove('active'));
                            document.querySelector('[data-screen="title-page-screen"]').classList.add('active');
                            showScreen('title-page-screen');

                            // Reset upload button after navigation
                            setTimeout(() => {
                                uploadBtn.innerHTML = '<i class="fas fa-upload"></i> Upload File';
                                uploadBtn.disabled = false;
                                uploadBtn.onclick = () => fileInput.click();
                            }, 500);
                        }, 1000);
                    }, 3000);
                };
            }
        });

        // Next Step
        nextStepBtn.addEventListener('click', () => {
            showToast('Moving to chapters editor...', 'success');
            // Switch to chapters screen
            navTabs.forEach(t => t.classList.remove('active'));
            document.querySelector('[data-screen="chapters-screen"]').classList.add('active');
            showScreen('chapters-screen');
        });

        // Chapter Management
        function chapterItemClick() {
            chapterItems.forEach(item => item.classList.remove('active'));
            this.classList.add('active');
            loadChapter(this.dataset.chapter);
        }

        function loadChapter(num) {
            chapterTitleInput.value = `Chapter ${num}`;
            chapterContentInput.value = `This is the content for chapter ${num}. Click to edit this text.`;
        }

        chapterItems.forEach(item => item.addEventListener('click', chapterItemClick));

        saveChapterBtn.addEventListener('click', () => {
            const active = document.querySelector('.chapter-item.active');
            if (active) {
                // Show saving state
                const originalText = saveChapterBtn.innerHTML;
                saveChapterBtn.innerHTML = '<span class="spinner"></span> Saving...';
                saveChapterBtn.disabled = true;

                setTimeout(() => {
                    active.querySelector('.chapter-title').textContent = chapterTitleInput.value;
                    active.querySelector('.chapter-preview').textContent = chapterContentInput.value.substring(0, 100) + '...';
                    showToast('Chapter saved!', 'success');

                    // Restore button state
                    saveChapterBtn.innerHTML = originalText;
                    saveChapterBtn.disabled = false;
                }, 1000);
            } else {
                showToast('Please select a chapter to save', 'error');
            }
        });

        deleteChapterBtn.addEventListener('click', () => {
            const active = document.querySelector('.chapter-item.active');
            if (active) {
                if (confirm('Are you sure you want to delete this chapter?')) {
                    active.remove();
                    showToast('Chapter deleted!', 'success');

                    // If there are remaining chapters, select the first one
                    const remainingChapters = document.querySelectorAll('.chapter-item');
                    if (remainingChapters.length > 0) {
                        remainingChapters[0].classList.add('active');
                        loadChapter(remainingChapters[0].dataset.chapter);
                    } else {
                        // Clear editor if no chapters remain
                        chapterTitleInput.value = '';
                        chapterContentInput.value = '';
                    }
                }
            } else {
                showToast('Please select a chapter to delete', 'error');
            }
        });

        addChapterBtn.addEventListener('click', () => {
            const num = document.querySelectorAll('.chapter-item').length + 1;
            const newItem = document.createElement('div');
            newItem.className = 'chapter-item';
            newItem.dataset.chapter = num;
            newItem.innerHTML = `<div class="chapter-title">${num}. New Chapter</div><div class="chapter-preview">Click to edit</div>`;
            document.querySelector('.chapters-items').appendChild(newItem);
            newItem.addEventListener('click', chapterItemClick);

            // Select the new chapter
            chapterItems.forEach(item => item.classList.remove('active'));
            newItem.classList.add('active');
            loadChapter(num);

            showToast(`Chapter ${num} added!`, 'success');
        });

        // Search functionality
        searchBtn.addEventListener('click', () => {
            const searchTerm = document.getElementById('searchChapters').value.toLowerCase();
            if (searchTerm) {
                const chapters = document.querySelectorAll('.chapter-item');
                let found = false;

                chapters.forEach(chapter => {
                    const title = chapter.querySelector('.chapter-title').textContent.toLowerCase();
                    const preview = chapter.querySelector('.chapter-preview').textContent.toLowerCase();

                    if (title.includes(searchTerm) || preview.includes(searchTerm)) {
                        chapter.style.display = 'block';
                        if (!found) {
                            chapter.classList.add('active');
                            loadChapter(chapter.dataset.chapter);
                            found = true;
                        }
                    } else {
                        chapter.style.display = 'none';
                    }
                });

                if (!found) {
                    showToast('No chapters found matching your search', 'error');
                }
            } else {
                // Show all chapters if search is empty
                const chapters = document.querySelectorAll('.chapter-item');
                chapters.forEach(chapter => {
                    chapter.style.display = 'block';
                });
            }
        });

        // Upload cover image
        uploadCoverBtn.addEventListener('click', () => {
            // Create a file input for cover image
            const coverInput = document.createElement('input');
            coverInput.type = 'file';
            coverInput.accept = 'image/*';
            coverInput.style.display = 'none';
            document.body.appendChild(coverInput);

            coverInput.click();

            coverInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    const file = e.target.files[0];
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            const bookCover = document.querySelector('.book-cover-placeholder');
                            bookCover.innerHTML = `<img src="${e.target.result}" alt="Book Cover" style="width:100%;height:100%;object-fit:cover;border-radius:6px;">`;
                            showToast('Cover image uploaded successfully!', 'success');
                        };
                        reader.readAsDataURL(file);
                    } else {
                        showToast('Please select a valid image file', 'error');
                    }
                }

                // Clean up
                document.body.removeChild(coverInput);
            });
        });

        // Real-time preview update
        [bookTitle, bookSubtitle, bookAuthor, publisherName, publicationDate].forEach(input => {
            input?.addEventListener('input', () => {
                previewTitle.textContent = bookTitle.value || 'Ebook Title';
                previewSubtitle.textContent = bookSubtitle.value || 'Ebook Subtitle';
                previewAuthor.textContent = bookAuthor.value || 'Author Name';
                previewPublisher.textContent = publisherName.value || 'Publisher Name';
                
                // Format date for preview
                if (publicationDate.value) {
                    const date = new Date(publicationDate.value);
                    previewDate.textContent = date.toLocaleDateString('en-US', { 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    });
                } else {
                    previewDate.textContent = 'Publication Date';
                }
            });
        });

        // Dropdown button actions
        exportBookBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Exporting ebook...', 'success');
        });

        publishBookBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Publishing ebook...', 'success');
        });

        duplicateBookBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Duplicating ebook...', 'success');
        });

        bookSettingsBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Opening ebook settings...', 'success');
        });

        reorderChaptersBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Opening chapter reorder interface...', 'success');
        });

        importChapterBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Importing chapter...', 'success');
        });

        exportChapterBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Exporting chapter...', 'success');
        });

        chapterTemplatesBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Opening chapter templates...', 'success');
        });

        // Premium features buttons
        viewPlansBtn.addEventListener('click', () => {
            showToast('Opening premium plans...', 'success');
            // In a real app, this would open a modal or navigate to a pricing page
        });

        unlockNowBtn.addEventListener('click', () => {
            showToast('Redirecting to checkout...', 'success');
            // In a real app, this would open a checkout process
        });

        // Help button
        helpBtn.addEventListener('click', () => {
            showToast('Opening help documentation...', 'success');
            // In a real app, this would open a help modal or documentation
        });

        // Preview button
        previewBtn.addEventListener('click', () => {
            showToast('Generating book preview...', 'success');
            // In a real app, this would generate and show a preview of the book
        });

        // Toast
        function showToast(message, type = 'success') {
            toast.className = `toast ${type}`;
            toast.querySelector('.toast-message').textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            updatePreview();

            // Set initial active chapter
            if (chapterItems.length > 0) {
                chapterItems[0].classList.add('active');
                loadChapter(1);
            }
        });

        function updatePreview() {
            previewTitle.textContent = bookTitle.value;
            previewSubtitle.textContent = bookSubtitle.value;
            previewAuthor.textContent = bookAuthor.value;
            previewPublisher.textContent = publisherName.value;
            
            if (publicationDate.value) {
                const date = new Date(publicationDate.value);
                previewDate.textContent = date.toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });
            } else {
                previewDate.textContent = 'Publication Date';
            }
        }
    </script>
</body>
</html>