@{
    ViewData["Title"] = "Account Settings - Reader Dashboard";
}

<div class="settings-page">
    <!-- Header Section -->
    <div class="page-header" data-aos="fade-down">
        <div class="header-content">
            <h1><i class="fas fa-cog"></i> Account Settings</h1>
            <p>Manage your account preferences and settings</p>
        </div>
    </div>

    <!-- Settings Grid -->
    <div class="settings-grid" data-aos="fade-up" data-aos-delay="200">
        <!-- Profile Settings -->
        <div class="settings-card">
            <div class="card-header">
                <h3><i class="fas fa-user"></i> Profile Information</h3>
            </div>
            <div class="card-body">
                <form id="profileForm">
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" class="form-control" id="fullName" placeholder="Enter your full name" value="John Doe">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter your email" value="john.doe@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" class="form-control" id="phone" placeholder="Enter your phone number" value="+1 (555) 123-4567">
                    </div>
                    
                    <div class="form-group">
                        <label for="bio">Bio</label>
                        <textarea class="form-control" id="bio" rows="3" placeholder="Tell us about yourself">Avid reader and book lover. I enjoy exploring new genres and discovering emerging authors.</textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </form>
            </div>
        </div>
        
        <!-- Reading Preferences -->
        <div class="settings-card">
            <div class="card-header">
                <h3><i class="fas fa-book-reader"></i> Reading Preferences</h3>
            </div>
            <div class="card-body">
                <form id="readingForm">
                    <div class="form-group">
                        <label>Preferred Genres</label>
                        <div class="checkbox-group">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="fiction" checked>
                                <label class="form-check-label" for="fiction">Fiction</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="nonFiction" checked>
                                <label class="form-check-label" for="nonFiction">Non-Fiction</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="romance">
                                <label class="form-check-label" for="romance">Romance</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="mystery" checked>
                                <label class="form-check-label" for="mystery">Mystery</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="sciFi">
                                <label class="form-check-label" for="sciFi">Sci-Fi</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="fantasy">
                                <label class="form-check-label" for="fantasy">Fantasy</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="fontSize">Font Size</label>
                        <select class="form-control" id="fontSize">
                            <option value="small">Small</option>
                            <option value="medium" selected>Medium</option>
                            <option value="large">Large</option>
                            <option value="xlarge">Extra Large</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="theme">Reading Theme</label>
                        <select class="form-control" id="theme">
                            <option value="light" selected>Light</option>
                            <option value="dark">Dark</option>
                            <option value="sepia">Sepia</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Reading Notifications</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="newReleases" checked>
                            <label class="form-check-label" for="newReleases">Notify me about new releases</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="readingReminders">
                            <label class="form-check-label" for="readingReminders">Send reading reminders</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="authorUpdates" checked>
                            <label class="form-check-label" for="authorUpdates">Author updates and news</label>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Save Preferences</button>
                </form>
            </div>
        </div>
        
        <!-- Privacy & Security -->
        <div class="settings-card">
            <div class="card-header">
                <h3><i class="fas fa-shield-alt"></i> Privacy & Security</h3>
            </div>
            <div class="card-body">
                <form id="privacyForm">
                    <div class="form-group">
                        <label class="form-label">Profile Visibility</label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="profileVisibility" id="public" checked>
                            <label class="form-check-label" for="public">Public</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="profileVisibility" id="friends">
                            <label class="form-check-label" for="friends">Friends Only</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="profileVisibility" id="private">
                            <label class="form-check-label" for="private">Private</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Data Sharing</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="shareReadingData">
                            <label class="form-check-label" for="shareReadingData">Share reading data with authors</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="shareWithPublishers">
                            <label class="form-check-label" for="shareWithPublishers">Share data with publishers</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Change Password</label>
                        <input type="password" class="form-control" id="password" placeholder="Enter new password">
                    </div>
                    
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm new password">
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Update Security</button>
                </form>
            </div>
        </div>
        
        <!-- Subscription -->
        <div class="settings-card">
            <div class="card-header">
                <h3><i class="fas fa-credit-card"></i> Subscription</h3>
            </div>
            <div class="card-body">
                <div class="subscription-info">
                    <div class="current-plan">
                        <h4>Current Plan: <span class="plan-name">Free Trial</span></h4>
                        <p>Expires on: <strong>March 15, 2024</strong></p>
                        <p>Books read: <strong>12/50</strong></p>
                    </div>
                    
                    <div class="plan-actions">
                        <button class="btn btn-success" onclick="upgradePlan()">
                            <i class="fas fa-crown"></i> Upgrade Plan
                        </button>
                        <button class="btn btn-outline-secondary" onclick="viewBilling()">
                            <i class="fas fa-receipt"></i> Billing History
                        </button>
                    </div>
                </div>
                
                <div class="payment-methods">
                    <h5>Payment Methods</h5>
                    <div class="payment-method">
                        <i class="fab fa-cc-visa"></i>
                        <span>Visa ending in 1234</span>
                        <span class="expiry">Expires 12/25</span>
                        <button class="btn btn-sm btn-outline-danger">Remove</button>
                    </div>
                    <button class="btn btn-outline-primary btn-block" onclick="addPaymentMethod()">
                        <i class="fas fa-plus"></i> Add Payment Method
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .settings-page {
        padding: 20px;
    }

    .page-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding: 20px;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85));
        backdrop-filter: blur(20px);
        border-radius: 15px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .header-content h1 {
        margin: 0;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-size: 2rem;
        font-weight: 700;
    }

    .header-content p {
        margin: 5px 0 0;
        color: #666;
        font-size: 1rem;
    }

    .settings-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
        gap: 30px;
    }

    .settings-card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .card-header {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 20px;
    }

    .card-header h3 {
        margin: 0;
        font-size: 1.3rem;
        font-weight: 600;
    }

    .card-header i {
        margin-right: 10px;
    }

    .card-body {
        padding: 25px;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: #333;
    }

    .form-control {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.9);
        font-size: 0.95rem;
        transition: all 0.3s ease;
    }

    .form-control:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .checkbox-group {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 10px;
    }

    .form-check {
        margin-bottom: 10px;
    }

    .form-check-input {
        margin-right: 8px;
    }

    .btn {
        padding: 12px 20px;
        border: none;
        border-radius: 8px;
        font-size: 0.95rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }

    .btn-primary {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
    }

    .btn-success {
        background: linear-gradient(135deg, #28a745, #218838);
        color: white;
    }

    .btn-outline-secondary {
        border: 2px solid #6c757d;
        color: #6c757d;
        background: transparent;
    }

    .btn-outline-primary {
        border: 2px solid #667eea;
        color: #667eea;
        background: transparent;
    }

    .btn-outline-danger {
        border: 2px solid #dc3545;
        color: #dc3545;
        background: transparent;
        padding: 5px 10px;
        font-size: 0.8rem;
    }

    .btn-block {
        width: 100%;
    }

    .btn:hover {
        transform: translateY(-2px);
        opacity: 0.9;
    }

    .btn-sm {
        padding: 5px 10px;
        font-size: 0.8rem;
    }

    .subscription-info {
        margin-bottom: 25px;
    }

    .current-plan h4 {
        margin-bottom: 10px;
    }

    .plan-name {
        color: #667eea;
        font-weight: 600;
    }

    .plan-actions {
        display: flex;
        gap: 10px;
        margin: 20px 0;
    }

    .payment-methods h5 {
        margin-bottom: 15px;
        color: #333;
    }

    .payment-method {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 10px;
        margin-bottom: 15px;
    }

    .payment-method i {
        font-size: 1.5rem;
        color: #667eea;
    }

    .expiry {
        margin-left: auto;
        color: #666;
        font-size: 0.9rem;
    }

    /* Mobile Responsive */
    @@media (max-width: 768px) {
        .page-header {
            flex-direction: column;
            gap: 15px;
            text-align: center;
        }

        .settings-grid {
            grid-template-columns: 1fr;
        }

        .checkbox-group {
            grid-template-columns: 1fr;
        }

        .plan-actions {
            flex-direction: column;
        }

        .payment-method {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
        }

        .expiry {
            margin-left: 0;
        }
    }
</style>

<script>
    // Form submission handlers
    document.getElementById('profileForm').addEventListener('submit', function(e) {
        e.preventDefault();
        Swal.fire({
            title: 'Profile Updated!',
            text: 'Your profile information has been saved successfully.',
            icon: 'success',
            confirmButtonColor: '#667eea'
        });
    });

    document.getElementById('readingForm').addEventListener('submit', function(e) {
        e.preventDefault();
        Swal.fire({
            title: 'Preferences Saved!',
            text: 'Your reading preferences have been updated.',
            icon: 'success',
            confirmButtonColor: '#667eea'
        });
    });

    document.getElementById('privacyForm').addEventListener('submit', function(e) {
        e.preventDefault();
        Swal.fire({
            title: 'Security Updated!',
            text: 'Your privacy and security settings have been saved.',
            icon: 'success',
            confirmButtonColor: '#667eea'
        });
    });

    // Action functions
    function upgradePlan() {
        window.location.href = '@Url.Action("Plans", "Reader")';
    }

    function viewBilling() {
        Swal.fire({
            title: 'Billing History',
            text: 'This would show your billing history in a real application.',
            icon: 'info',
            confirmButtonColor: '#667eea'
        });
    }

    function addPaymentMethod() {
        Swal.fire({
            title: 'Add Payment Method',
            text: 'This would open a payment method form in a real application.',
            icon: 'info',
            confirmButtonColor: '#667eea'
        });
    }

    // Initialize AOS
    AOS.init({
        duration: 600,
        easing: 'ease-out',
        once: true
    });
</script>